-- Test basic hash functionality with text
SELECT crc32('hello world');
   crc32   
-----------
 222957957
(1 row)

-- Test hash with different text inputs
SELECT crc32('test string');
   crc32   
-----------
 323425605
(1 row)

SELECT crc32('another test');
   crc32    
------------
 -474780544
(1 row)

-- Test text input with custom seed
SELECT crc32('hello world', 42);
   crc32    
------------
 1769588438
(1 row)

SELECT crc32('hello world', 123);
   crc32    
------------
 -800472014
(1 row)

-- Test bytea input
SELECT crc32('hello world'::bytea);
   crc32   
-----------
 222957957
(1 row)

-- Test bytea input with custom seed
SELECT crc32('hello world'::bytea, 42);
   crc32    
------------
 1769588438
(1 row)

-- Test integer input
SELECT crc32(12345);
    crc32    
-------------
 -2012443225
(1 row)

SELECT crc32(-12345);
   crc32    
------------
 -301217247
(1 row)

-- Test integer input with custom seed
SELECT crc32(12345, 42);
   crc32    
------------
 1199817469
(1 row)

SELECT crc32(-12345, 123);
   crc32    
------------
 1379265980
(1 row)

-- Test consistency (same input should give same hash)
SELECT crc32('consistent test') = crc32('consistent test');
 ?column? 
----------
 t
(1 row)

-- Test seed effect (same input, different seeds should give different hashes)
SELECT crc32('seed test', 1) != crc32('seed test', 2);
 ?column? 
----------
 t
(1 row)

-- Test function properties
SELECT 
    proname,
    provolatile,
    proisstrict
FROM pg_proc 
WHERE proname = 'crc32'
ORDER BY proname, proargtypes;
 proname | provolatile | proisstrict 
---------+-------------+-------------
 crc32   | i           | t
 crc32   | i           | t
 crc32   | i           | t
 crc32   | i           | t
 crc32   | i           | t
 crc32   | i           | t
(6 rows)

-- Test extension metadata
SELECT 
    extname,
    extversion
FROM pg_extension 
WHERE extname = 'hashlib';
 extname | extversion 
---------+------------
 hashlib | 0.0.1
(1 row)

