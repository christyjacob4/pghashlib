-- Test basic hash functionality with text
SELECT murmurhash3_32('hello world');
 murmurhash3_32 
----------------
     1586663183
(1 row)

-- Test hash with different text inputs
SELECT murmurhash3_32('test string');
 murmurhash3_32 
----------------
    -1476238800
(1 row)

SELECT murmurhash3_32('another test');
 murmurhash3_32 
----------------
    -1215756892
(1 row)

-- Test text input with custom seed
SELECT murmurhash3_32('hello world', 42);
 murmurhash3_32 
----------------
     -368272391
(1 row)

SELECT murmurhash3_32('hello world', 123);
 murmurhash3_32 
----------------
      679062093
(1 row)

-- Test bytea input
SELECT murmurhash3_32('hello world'::bytea);
 murmurhash3_32 
----------------
     1586663183
(1 row)

-- Test bytea input with custom seed
SELECT murmurhash3_32('hello world'::bytea, 42);
 murmurhash3_32 
----------------
     -368272391
(1 row)

-- Test integer input
SELECT murmurhash3_32(12345);
 murmurhash3_32 
----------------
      638799361
(1 row)

SELECT murmurhash3_32(-12345);
 murmurhash3_32 
----------------
    -1626926666
(1 row)

-- Test integer input with custom seed
SELECT murmurhash3_32(12345, 42);
 murmurhash3_32 
----------------
    -2122148428
(1 row)

SELECT murmurhash3_32(-12345, 123);
 murmurhash3_32 
----------------
      988228156
(1 row)

-- Test consistency (same input should give same hash)
SELECT murmurhash3_32('consistent test') = murmurhash3_32('consistent test');
 ?column? 
----------
 t
(1 row)

-- Test seed effect (same input, different seeds should give different hashes)
SELECT murmurhash3_32('seed test', 1) != murmurhash3_32('seed test', 2);
 ?column? 
----------
 t
(1 row)

-- Test function properties
SELECT 
    proname,
    provolatile,
    proisstrict
FROM pg_proc 
WHERE proname = 'murmurhash3_32'
ORDER BY proname, proargtypes;
    proname     | provolatile | proisstrict 
----------------+-------------+-------------
 murmurhash3_32 | i           | t
 murmurhash3_32 | i           | t
 murmurhash3_32 | i           | t
 murmurhash3_32 | i           | t
 murmurhash3_32 | i           | t
 murmurhash3_32 | i           | t
(6 rows)

-- Test extension metadata
SELECT 
    extname,
    extversion
FROM pg_extension 
WHERE extname = 'hashlib';
 extname | extversion 
---------+------------
 hashlib | 0.0.1
(1 row)

